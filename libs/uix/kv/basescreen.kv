# -*- coding: ut-8 -*-
#
# This file created with KivyCreatorProject
# <https://github.com/HeaTTheatR/KivyCreatorProgect
#
# Copyright © 2017 Easy
#
# For suggestions and questions:
# <kivydevelopment@gmail.com>
# 
# LICENSE: MIT


<BaseScreen>:
    name: 'base'
    spinner: spinner
    list_layout: list_layout
    number_search: number_search
    disposal_list: disposal_list

    MDSpinner:
        id: spinner
        size_hint: None, None
        size: dp(23), dp(23)
        pos_hint: {'center_x': 0.5, 'center_y': 0.5}
        active: False

    BoxLayout:
        id: list_layout
        orientation: 'vertical'
        padding: dp(10), dp(10)
        spacing: dp(10)

        MDToolbar:
            id: actionbar
            pos_hint: {"top": 1}
            elevation: 10
            title: app.translation._(app.title)
            left_action_items: [["menu", lambda x: app.nav_drawer.set_state("open")]]

        SearchTextField:
            id: number_search
            hint_text: app.translation._('Номер или текст...')
        DisposalList:
            id: disposal_list
            viewclass: 'DisposalItem'
            do_scroll_x: False
            scroll_timeout: 100

            RecycleBoxLayout:
                id: disposal_layout
                orientation: 'vertical'
                size_hint_y: None
                height: self.minimum_height
                default_size_hint: 1, None

    AddDisposalButton:
        id: menu_button
        icon: 'plus'
        opposite_colors: True
        elevation_normal: 8
        #pos_hint: {'right':1}
        x: Window.width - (self.width + dp(15))
        y: dp(15)

<DisposalList@RecycleView>

<DisposalItem>
    theme_label: theme_label
    text_label: text_label
    number_label: number_label
    icon: icon

    MDLabel:
        id: icon
        icon_text: 'checkbox-blank-circle'
        font_style: 'Icon'
        text: u"{}".format(md_icons[self.icon_text])
        theme_text_color: 'Custom'
        text_color: 1, 0, 0, 1
        disabled: root.disabled
        pos_hint: {'x': 1, 'center_y': 0.5}
        opposite_colors: root.opposite_colors

    BoxLayout:
        padding: [dp(40),0,0,0]
        orientation: 'vertical'
        MDSeparator:
        NumberLabel:
            id: number_label
            halign: 'left'
            text_size:self.width, dp(20)
            size_hint: 1, None
            height: dp(20)
            shorten: True
            shorten_from: 'right'
            color: 0, 0, 0, 1
            markup: True
        Label:
            id: theme_label
            halign: 'left'
            text_size:self.width, dp(20)
            size_hint: 1, None
            height: dp(20)
            shorten: True
            shorten_from: 'right'
            color: 0, 0, 0, 1
            markup: True
        Label:
            id: text_label
            halign: 'left'
            text_size: self.width, dp(20)
            size_hint: 1, None
            height: dp(20)
            shorten: True
            shorten_from: 'right'
            color: 0, 0, 0, 1
            markup: True
        Widget:
